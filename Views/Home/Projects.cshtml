@model List<myBlog.Models.Projects>

@{
    ViewBag.Title = "Projects";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div style="margin-top: 2rem;">
    <section class="projects" id="projects">
        <h2 class="section-title">Tüm Projelerim</h2>

        <div class="projects-grid">
            @foreach (var item in Model)
            {
                <div class="project-card">
                    <div class="project-image">
                        <img src="@(string.IsNullOrEmpty(item.ImageUrl) ? "https://via.placeholder.com/300" : item.ImageUrl)" alt="@item.Title" />
                    </div>

                    <div class="project-content">
                        <h3 class="project-title">@item.Title</h3>

                        <div class="project-tech">
                            @if (!string.IsNullOrEmpty(item.Tags))
                            {
                                foreach (var tag in item.Tags.Split(','))
                                {
                                    <span class="tech-tag">@tag.Trim()</span>
                                }
                            }
                        </div>

                        <p class="project-desc">@item.Description</p>

                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <a href="@Url.Action("ProjectDetails", "Home", new { id = item.Id })" class="project-link">
                                View Project
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M5 12h14M12 5l7 7-7 7"></path>
                                </svg>
                            </a>

                            @if (Session["admin"] != null)
                            {
                                <a href="@Url.Action("Delete", "Project", new { id = item.Id })"
                                   class="btn-delete"
                                   onclick="return confirm('Bu projeyi silmek istediğinize emin misiniz?');">
                                    🗑️ Sil
                                </a>
                            }
                        </div>

                    </div>
                </div>
            }
            @if (Model == null || Model.Count == 0)
            {
                <div style="grid-column: 1 / -1; text-align: center; color: #64748b; padding: 2rem;">
                    <p>Henüz eklenmiş bir proje bulunmuyor.</p>
                </div>
            }

        </div>
    </section>
</div>

<style>
    .btn-delete {
        display: inline-flex;
        align-items: center;
        gap: 5px;
        color: #ef4444;
        font-weight: 500;
        text-decoration: none;
        font-size: 0.9rem;
        padding: 5px 10px;
        border-radius: 5px;
        transition: background-color 0.3s;
    }

        .btn-delete:hover {
            background-color: #fef2f2;
            color: #dc2626;
        }
</style>